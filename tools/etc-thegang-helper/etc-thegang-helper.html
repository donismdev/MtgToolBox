<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ë” ê°± íˆ´</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body {
			background-color: #121212;
			color: #fff;
			padding: 1rem;
			font-family: 'Segoe UI', sans-serif;
		}
		.card-list { display: flex; flex-wrap: wrap; gap: 0.5rem; }
		.card-tag {
			background-color: #222;
			padding: 0.5rem 0.75rem;
			border-radius: 0.5rem;
			border: 1px solid #555;
			cursor: pointer;
			position: relative;
		}
		.card-tag.penalty { border-color: #dc3545; }
		.card-tag.advantage { border-color: #0d6efd; }
		.card-tag .remove-btn {
			position: absolute;
			top: -8px;
			right: -8px;
			background: #ff4d4d;
			border: none;
			color: white;
			border-radius: 50%;
			width: 20px;
			height: 20px;
			font-size: 12px;
			line-height: 20px;
			text-align: center;
			padding: 0;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<h2 class="mb-4">ğŸ’¼ ë” ê°± ê²Œì„ íˆ´</h2>

	<div class="mb-3">
		<h4>ğŸ“Š ì‘ì „ ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœ</h4>
		<div class="form-check form-switch">
			<input class="form-check-input" type="checkbox" id="scoreModeToggle" onchange="toggleScoreMode()">
			<label class="form-check-label" for="scoreModeToggle">ì ìˆ˜ì œ ëª¨ë“œ ì‚¬ìš©</label>
		</div>
		<div id="tokenMode">
			<p>ê¸ˆê³  ì¹´ë“œ: <span id="safeCount">0</span> / 3</p>
			<p>ê²½ë³´ ì¹´ë“œ: <span id="alertCount">0</span> / 3</p>
			<button class="btn btn-success btn-sm" onclick="addSafe()">+ ê¸ˆê³ </button>
			<button class="btn btn-danger btn-sm" onclick="addAlert()">+ ê²½ë³´</button>
		</div>
		<div id="scoreMode" style="display:none">
			<p>ì ìˆ˜: <span id="score">0</span></p>
			<button class="btn btn-primary btn-sm" onclick="addScore(1)">+1 ì„±ê³µ</button>
			<button class="btn btn-warning btn-sm" onclick="addScore(-1)">-1 ì‹¤íŒ¨</button>
		</div>
		<button class="btn btn-outline-light btn-sm mt-2" onclick="resetStatus()">ì´ˆê¸°í™”</button>
	</div>

	<div class="mb-4">
		<h4>â— íŒ¨ë„í‹° ì¹´ë“œ</h4>
		<select id="penaltySelect" class="form-select mb-2">
		</select>
		<div class="d-flex gap-2">
			<button class="btn btn-outline-danger btn-sm" onclick="addRandomCard('penalty')">ëœë¤ ì¶”ê°€</button>
			<button class="btn btn-danger btn-sm" onclick="addSelectedCard('penalty')">ì„ íƒ ì¶”ê°€</button>
		</div>
		<div class="card-list mt-2" id="penaltyList"></div>
	</div>

	<div class="mb-4">
		<h4>ğŸ ì–´ë“œë°´í‹°ì§€ ì¹´ë“œ</h4>
		<select id="advantageSelect" class="form-select mb-2">
		</select>
		<div class="d-flex gap-2">
			<button class="btn btn-outline-primary btn-sm" onclick="addRandomCard('advantage')">ëœë¤ ì¶”ê°€</button>
			<button class="btn btn-primary btn-sm" onclick="addSelectedCard('advantage')">ì„ íƒ ì¶”ê°€</button>
		</div>
		<div class="card-list mt-2" id="advantageList"></div>
	</div>

	<div class="modal fade" id="cardModal" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content bg-dark text-white">
				<div class="modal-header">
					<h5 class="modal-title">ì¹´ë“œ ìƒì„¸ ë³´ê¸°</h5>
					<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body">
					<p id="cardDetail"></p>
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		const penaltyCards = [
			{ id: 1, name: 'ë¶ˆìš´ì˜ ì˜ˆê°', text: 'ì‘ì „ ì„±ê³µ ì‹œ ì¹´ë“œê°€ 2ì¥ ì¶”ê°€ëœë‹¤.' },
			{ id: 2, name: 'ë„ì²­ê¸° ë°œê²¬', text: 'ìµœì¢… ë¼ìš´ë“œì—ì„œ ê³µê°œ ìˆœì„œê°€ ë°”ë€ë‹¤.' },
			{ id: 3, name: 'í—›ë‹¤ë¦¬', text: 'ì¶”ì¸¡ ë“±ìˆ˜ë¥¼ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.' },
			{ id: 4, name: 'ì˜ì‹¬ì˜ ëˆˆì´ˆë¦¬', text: 'ì´ì „ ë¼ìš´ë“œ ì •ë³´ë¥¼ ê³µìœ í•  ìˆ˜ ì—†ë‹¤.' },
			{ id: 5, name: 'í•¨ì • ì¹´ë“œ', text: 'ì‘ì „ ì„±ê³µ ì‹œì—ë„ ì–´ë“œë°´í‹°ì§€ ì¹´ë“œê°€ ì¶”ê°€ëœë‹¤.' },
			{ id: 6, name: 'ê²½ë³´ìŒ', text: 'ê³µê°œ ì‹œ 1ëª…ì„ ì œì™¸í•˜ê³  ìˆœìœ„ë¥¼ ë°”ê¿”ì•¼ í•œë‹¤.' },
			{ id: 7, name: 'ê¸ˆê³ í•¨ ì˜¤ë¥˜', text: 'ê¸ˆê³  ì¹´ë“œ 1ì¥ì´ ë¬´íš¨ê°€ ëœë‹¤.' },
			{ id: 8, name: 'ë’¤ë°”ë€ ìœ„ì¹˜', text: 'ì˜ˆìƒí•œ ë“±ìˆ˜ì™€ ë°˜ëŒ€ì˜ ë“±ìˆ˜ê°€ ëœë‹¤.' },
			{ id: 9, name: 'ê¸°ë°€ ë…¸ì¶œ', text: 'ëª¨ë“  ì–´ë“œë°´í‹°ì§€ ì¹´ë“œì˜ íš¨ê³¼ê°€ ë¬´íš¨í™”ëœë‹¤.' },
			{ id: 10, name: 'ì¶”ê°€ ê²½ë³´', text: 'ê²½ë³´ ì¹´ë“œê°€ 1ì¥ ì¦‰ì‹œ ì¶”ê°€ëœë‹¤.' }
		];
		const advantageCards = [
			{ id: 1, name: 'ì‘ì „íšŒì˜', text: 'ëª¨ë“  í”Œë ˆì´ì–´ëŠ” ì˜ˆìƒ ë“±ìˆ˜ë¥¼ 1ëª…ì”© ê³µìœ í•  ìˆ˜ ìˆë‹¤.' },
			{ id: 2, name: 'ìš´ëª…ì˜ ë™ì „', text: 'ì¶”ì¸¡ ë“±ìˆ˜ë¥¼ í•œ ë²ˆ ë‹¤ì‹œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.' },
			{ id: 3, name: 'íŒíŠ¸ íšë“', text: 'íŠ¹ì • í”Œë ˆì´ì–´ì˜ ìˆœìœ„ë¥¼ íŒíŠ¸ë¡œ ë°›ëŠ”ë‹¤.' },
			{ id: 4, name: 'íŒ€ì›Œí¬', text: '2ëª… ì´ìƒ ì„±ê³µ ì‹œ ê¸ˆê³  ì¹´ë“œê°€ 2ì¥ ì¶”ê°€ëœë‹¤.' },
			{ id: 5, name: 'ì •ì‹ ì§‘ì¤‘', text: 'ìì‹ ì˜ ì˜ˆìƒ ë“±ìˆ˜ë¥¼ ì¬ê²€í† í•  ìˆ˜ ìˆë‹¤.' },
			{ id: 6, name: 'ì •ë³´ ê³µìœ ', text: 'í”Œë ì´í›„ íŒíŠ¸ë¥¼ ì¶”ê°€ë¡œ ê³µê°œí•œë‹¤.' },
			{ id: 7, name: 'ë³´ì•ˆ ê°•í™”', text: 'ê²½ë³´ ì¹´ë“œ íš¨ê³¼ê°€ 1íšŒ ë¬´íš¨í™”ëœë‹¤.' },
			{ id: 8, name: 'ë„ì›€ì˜ ì†ê¸¸', text: 'í•œ ëª…ì˜ ì˜ˆìƒ ë“±ìˆ˜ë¥¼ ëŒ€ì‹  ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.' },
			{ id: 9, name: 'ì‹œê°„ ë²Œê¸°', text: 'ë¼ìš´ë“œ íƒ€ì´ë¨¸ë¥¼ 30ì´ˆ ì—°ì¥í•œë‹¤.' },
			{ id: 10, name: 'ì˜ì™¸ì˜ í–‰ìš´', text: 'ì‘ì „ ì‹¤íŒ¨ ì‹œì—ë„ ê¸ˆê³  ì¹´ë“œ 1ì¥ì„ íšë“í•œë‹¤.' }
		];

		function populateSelects() {
			const makeOptions = (arr) => arr.map(card => `<option value="${card.id}">#${card.id} ${card.name}</option>`).join('');
			document.getElementById('penaltySelect').innerHTML = makeOptions(penaltyCards);
			document.getElementById('advantageSelect').innerHTML = makeOptions(advantageCards);
		}

		let safe = 0, alert = 0, score = 0;
		function addSafe() { if (safe < 3) document.getElementById('safeCount').textContent = ++safe; }
		function addAlert() { if (alert < 3) document.getElementById('alertCount').textContent = ++alert; }
		function addScore(delta) { score += delta; document.getElementById('score').textContent = score; }
		function toggleScoreMode() {
			const scoreMode = document.getElementById('scoreModeToggle').checked;
			document.getElementById('scoreMode').style.display = scoreMode ? 'block' : 'none';
			document.getElementById('tokenMode').style.display = scoreMode ? 'none' : 'block';
		}
		function resetStatus() {
			safe = alert = score = 0;
			document.getElementById('safeCount').textContent = safe;
			document.getElementById('alertCount').textContent = alert;
			document.getElementById('score').textContent = score;
			document.getElementById('penaltyList').innerHTML = '';
			document.getElementById('advantageList').innerHTML = '';
		}
		function addRandomCard(type) {
			const arr = (type === 'penalty') ? penaltyCards : advantageCards;
			const card = arr[Math.floor(Math.random() * arr.length)];
			addCardToUI(type, card);
		}
		function addSelectedCard(type) {
			const select = document.getElementById(type + 'Select');
			const id = parseInt(select.value);
			const card = (type === 'penalty' ? penaltyCards : advantageCards).find(c => c.id === id);
			if (card) addCardToUI(type, card);
		}
		function addCardToUI(type, card) {
			const tag = document.createElement('div');
			tag.className = `card-tag ${type}`;
			tag.innerHTML = `#${card.id} ${card.name} ğŸ” <button class="remove-btn" onclick="this.parentNode.remove(); event.stopPropagation();">Ã—</button>`;
			tag.onclick = () => showCardDetail(card);
			document.getElementById(type + 'List').appendChild(tag);
		}
		function showCardDetail(card) {
			document.getElementById('cardDetail').textContent = `#${card.id} ${card.name} - ${card.text}`;
			const modal = new bootstrap.Modal(document.getElementById('cardModal'));
			modal.show();
		}
		document.addEventListener('DOMContentLoaded', populateSelects);
	</script>
</body>
</html>