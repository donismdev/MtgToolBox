<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>더 갱 툴</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body {
			background-color: #121212;
			color: #fff;
			padding: 1rem;
			font-family: 'Segoe UI', sans-serif;
		}
		.card-list { display: flex; flex-wrap: wrap; gap: 0.5rem; }
		.card-tag {
			background-color: #222;
			padding: 0.5rem 0.75rem;
			border-radius: 0.5rem;
			border: 1px solid #555;
			cursor: pointer;
		}
		.card-tag.penalty { border-color: #dc3545; }
		.card-tag.advantage { border-color: #0d6efd; }
	</style>
</head>
<body>
	<h2 class="mb-4">💼 더 갱 게임 툴</h2>

	<div class="mb-3">
		<h4>📊 작전 성공/실패 상태</h4>
		<p>금고 카드: <span id="safeCount">0</span> / 3</p>
		<p>경보 카드: <span id="alertCount">0</span> / 3</p>
		<button class="btn btn-success btn-sm" onclick="addSafe()">+ 금고</button>
		<button class="btn btn-danger btn-sm" onclick="addAlert()">+ 경보</button>
		<button class="btn btn-outline-light btn-sm" onclick="resetStatus()">초기화</button>
	</div>

	<div class="mb-4">
		<h4>❗ 패널티 카드</h4>
		<div class="card-list" id="penaltyList"></div>
		<button class="btn btn-outline-danger btn-sm mt-2" onclick="addRandomCard('penalty')">랜덤 추가</button>
	</div>

	<div class="mb-4">
		<h4>🎁 어드밴티지 카드</h4>
		<div class="card-list" id="advantageList"></div>
		<button class="btn btn-outline-primary btn-sm mt-2" onclick="addRandomCard('advantage')">랜덤 추가</button>
	</div>

	<!-- 카드 상세 보기 모달 -->
	<div class="modal fade" id="cardModal" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content bg-dark text-white">
				<div class="modal-header">
					<h5 class="modal-title">카드 상세 보기</h5>
					<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body">
					<p id="cardDetail"></p>
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		let safe = 0, alert = 0;
		const penaltyCards = [
			{ id: 1, name: '불운의 예감', text: '등수 추측 실패 시 -1점' },
			{ id: 2, name: '이상한 소문', text: '다른 플레이어의 예상 등수 공개' },
			{ id: 3, name: '헛다리', text: '이번 라운드 등수 1칸 밀림' },
			{ id: 4, name: '숨겨진 위험', text: '패 공개 전 순위 바뀜' },
			{ id: 5, name: '의심의 눈초리', text: '이전 성공 무효화' }
		];
		const advantageCards = [
			{ id: 1, name: '작전회의', text: '모든 플레이어 예상 등수 공유 가능' },
			{ id: 2, name: '운명의 동전', text: '한번 더 추측 기회 제공' },
			{ id: 3, name: '힌트 획득', text: '하위 2명 중 1명 공개' },
			{ id: 4, name: '팀워크', text: '이번 라운드 전원 예측 성공 시 +1' },
			{ id: 5, name: '정신집중', text: '선택한 한 명의 예상 등수 보기' }
		];

		function addSafe() {
			if (safe < 3) document.getElementById('safeCount').textContent = ++safe;
		}
		function addAlert() {
			if (alert < 3) document.getElementById('alertCount').textContent = ++alert;
		}
		function resetStatus() {
			safe = alert = 0;
			document.getElementById('safeCount').textContent = safe;
			document.getElementById('alertCount').textContent = alert;
			document.getElementById('penaltyList').innerHTML = '';
			document.getElementById('advantageList').innerHTML = '';
		}
		function addRandomCard(type) {
			const card = (type === 'penalty') ? randomFrom(penaltyCards) : randomFrom(advantageCards);
			addCardToUI(type, card);
		}
		function randomFrom(arr) {
			return arr[Math.floor(Math.random() * arr.length)];
		}
		function addCardToUI(type, card) {
			const tag = document.createElement('div');
			tag.className = `card-tag ${type}`;
			tag.textContent = `#${card.id} ${card.name} 🔍`;
			tag.onclick = () => showCardDetail(card);
			document.getElementById(type + 'List').appendChild(tag);
		}
		function showCardDetail(card) {
			document.getElementById('cardDetail').textContent = `#${card.id} ${card.name} - ${card.text}`;
			const modal = new bootstrap.Modal(document.getElementById('cardModal'));
			modal.show();
		}
	</script>
</body>
</html>
