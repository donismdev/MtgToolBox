<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>ë” ê°± íˆ´</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<style>
		body {
			background-color: #121212;
			color: #ffffff;
			font-family: 'Segoe UI', sans-serif;
			padding: 2rem;
		}
		.card-grid {
			display: flex;
			flex-wrap: wrap;
			gap: 1rem;
		}
		.card-box {
			background-color: #1e1e1e;
			border: 1px solid #444;
			border-radius: 0.5rem;
			padding: 0.5rem 1rem;
			cursor: pointer;
			position: relative;
		}
		.card-box .remove {
			position: absolute;
			top: 4px;
			right: 6px;
			cursor: pointer;
			color: #bbb;
		}
		.modal-body pre {
			white-space: pre-wrap;
			color: #ddd;
		}
	</style>
</head>
<body>
	<h2 class="mb-4">ğŸ´ ë” ê°± íˆ´</h2>

	<div class="mb-3">
		<label class="form-label">ì ìˆ˜ ëª¨ë“œ:</label>
		<select class="form-select" id="scoreMode" onchange="toggleScoreMode()">
			<option value="counter">ê¸ˆê³ /ê²½ë³´ (3ì¥)</option>
			<option value="points">ì ìˆ˜ì œ (+1 / -1)</option>
		</select>
	</div>

	<div id="counterMode">
		<p>ê¸ˆê³ : <span id="safeCount">0</span> / 3</p>
		<p>ê²½ë³´: <span id="alarmCount">0</span> / 3</p>
		<button class="btn btn-success" onclick="addCount('safe')">ê¸ˆê³  +1</button>
		<button class="btn btn-danger" onclick="addCount('alarm')">ê²½ë³´ +1</button>
	</div>
	<div id="pointsMode" style="display: none;">
		<p>ì ìˆ˜: <span id="score">0</span></p>
		<button class="btn btn-primary" onclick="changeScore(1)">+1</button>
		<button class="btn btn-warning" onclick="changeScore(-1)">-1</button>
	</div>

	<hr>
	<h4>ğŸ› ï¸ íŒ¨ë„í‹° ì¹´ë“œ</h4>
	<div class="mb-2">
		<select id="penaltySelect" class="form-select"></select>
		<button class="btn btn-outline-light mt-2" onclick="addCard('penalty', false)">â• ìˆ˜ë™ ì¶”ê°€</button>
		<button class="btn btn-outline-secondary mt-1" onclick="addCard('penalty', true)">ğŸ² ëœë¤ ì¶”ê°€</button>
		<button class="btn btn-info mt-2 ms-2" onclick="showDescriptions('penalty')">ğŸ“˜ ì„¤ëª… ë³´ê¸°</button>
	</div>
	<div class="card-grid" id="penaltyCards"></div>

	<hr>
	<h4>ğŸ› ï¸ ì–´ë“œë°´í‹°ì§€ ì¹´ë“œ</h4>
	<div class="mb-2">
		<select id="advantageSelect" class="form-select"></select>
		<button class="btn btn-outline-light mt-2" onclick="addCard('advantage', false)">â• ìˆ˜ë™ ì¶”ê°€</button>
		<button class="btn btn-outline-secondary mt-1" onclick="addCard('advantage', true)">ğŸ² ëœë¤ ì¶”ê°€</button>
		<button class="btn btn-info mt-2 ms-2" onclick="showDescriptions('advantage')">ğŸ“˜ ì„¤ëª… ë³´ê¸°</button>
	</div>
	<div class="card-grid" id="advantageCards"></div>

	<hr>
	<button class="btn btn-danger" onclick="resetAll()">ì´ˆê¸°í™”</button>
	<button class="btn btn-light ms-2" onclick="showAllDescriptions()">ğŸ“˜ ì „ì²´ ì„¤ëª… ë³´ê¸°</button>

	<!-- Modal -->
	<div class="modal fade" id="descModal" tabindex="-1">
		<div class="modal-dialog modal-lg">
			<div class="modal-content bg-dark text-white">
				<div class="modal-header">
					<h5 class="modal-title">ì¹´ë“œ ì„¤ëª…</h5>
					<button type="button" class="btn-close btn-close-white" onclick="closeModalSafely()"></button>
				</div>
				<div class="modal-body">
					<pre id="descContent"></pre>
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		const cards = {
			penalty: [
				["ë¹ ë¥¸ ì§„ì…", "ì´ë²ˆ ì‘ì „ ë™ì•ˆ í•˜ì–€ìƒ‰ ì¹©ì€ ë”°ë¡œ ì¹˜ì›Œë‘¡ë‹ˆë‹¤. 1ë¼ìš´ë“œì— í¬ì¼“ ì¹´ë“œë¥¼ ë‚˜ëˆ  ë°›ì€ ë‹¤ìŒ ë°”ë¡œ 2ë¼ìš´ë“œë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤."],
				["ì†ŒìŒ ê²½ë³´ê¸°", "1, 2, 3ë¼ìš´ë“œì— ì‚¬ìš©í•˜ëŠ” ë³„ 1ê°œ ì¹©ì„ ì–´ë‘ìš´ ë©´ìœ¼ë¡œ ë’¤ì§‘ìŠµë‹ˆë‹¤. ê°€ì ¸ê°€ë©´ ì†Œìœ ì ë³€ê²½ ë¶ˆê°€."],
				["ë™ì‘ ê°ì§€ê¸°", "2ë¼ìš´ë“œ ì»¤ë®¤ë‹ˆí‹° ì¹´ë“œ ì¤‘ J, Q, Kê°€ 1ì¥ì´ë¼ë„ ìˆë‹¤ë©´, 1ë¼ìš´ë“œì— ì¹©ì„ ê°€ì ¸ì˜¨ ì‚¬ëŒì€ í¬ì¼“ ì¹´ë“œë¥¼ êµì²´í•©ë‹ˆë‹¤."],
				["í™ì±„ ì¸ì‹ê¸°", "ì‘ì „ ì„±ê³µ ìš”ê±´ ì¶”ê°€: ê°€ì¥ ë§ì€ ë¹¨ê°„ìƒ‰ ì¹©ì„ ê°€ì§„ ì‚¬ëŒì˜ í¬ì¼“ ì¹´ë“œ ì¤‘ í•œ ì¥ì˜ ê°€ì¹˜ë¥¼ ë§ì¶°ì•¼ í•¨."],
				["ê¸‰ë°•í•œ ë„ì£¼", "3ë¼ìš´ë“œì— ì£¼í™©ìƒ‰ ì¹©ì„ ê°€ì ¸ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤. 4ë¼ìš´ë“œë¡œ ë°”ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤."],
				["í™˜í’êµ¬", "1, 2, 3ë¼ìš´ë“œì˜ ê°€ì¥ ë§ì€ ì¹©ì„ ì–´ë‘ìš´ ë©´ìœ¼ë¡œ ë’¤ì§‘ìŠµë‹ˆë‹¤. ê°€ì ¸ê°€ë©´ ì†Œìœ ì ë³€ê²½ ë¶ˆê°€."],
				["ë ˆì´ì € ê²½ë³´ê¸°", "2ë¼ìš´ë“œ ì»¤ë®¤ë‹ˆí‹° ì¹´ë“œì— J, Q, Kê°€ ì—†ë‹¤ë©´, ì¹©ì„ ê°€ì ¸ì˜¨ ì‚¬ëŒì€ í¬ì¼“ ì¹´ë“œ êµì²´."],
				["ì •ì „", "ê° ë¼ìš´ë“œ ì‹œì‘ ì‹œ ì´ì „ ë¼ìš´ë“œì—ì„œ ê°€ì ¸ì˜¨ ì¹©ì„ ë²„ë¦½ë‹ˆë‹¤. ê¸°ì–µë ¥ í•„ìš”!"],
				["ì§€ë¬¸ ì¸ì‹ê¸°", "ì‘ì „ ì„±ê³µ ìš”ê±´ ì¶”ê°€: ê°€ì¥ ë§ì€ ë¹¨ê°„ ì¹©ì„ ê°€ì§„ ì‚¬ëŒì˜ ì¡°í•©ì„ ë§ì¶°ì•¼ í•¨."],
				["ë³´ì•ˆ ì¹´ë©”ë¼", "í¬ì¼“ ì¹´ë“œë¥¼ 3ì¥ ë°›ê³ , ê·¸ ì¤‘ 2ì¥ìœ¼ë¡œ ì¡°í•©. 8ì¥ ì¤‘ 5ì¥ì„ ì„ íƒ!"]
			],
			advantage: [
				["ì •ë³´ì›", "ì—¬ëŸ¬ë¶„ ì¤‘ 1ëª…ì€ ë‹¤ë¥¸ 1ëª…ì—ê²Œ ìê¸° í¬ì¼“ ì¹´ë“œ ì¤‘ 1ì¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤."],
				["ë„ì£¼ ì°¨ëŸ‰ ìš´ì „ìˆ˜", "ì—¬ëŸ¬ë¶„ ì¤‘ 1ëª…ì€ ì»¤ë®¤ë‹ˆí‹° ì¹´ë“œì™€ ìê¸° í¬ì¼“ ì¹´ë“œë¥¼ ë³´ê³  í˜„ì¬ ìê¸° ì¡°í•©ì´ ë¬´ì—‡ì¸ì§€ ëª¨ë‘ì—ê²Œ ë°í™ë‹ˆë‹¤."],
				["íˆ¬ìì", "í¬ì¼“ ì¹´ë“œë¥¼ ë‚˜ëˆ  ë°›ì€ í›„ ì¦‰ì‹œ: ê°ì ìê¸° í¬ì¼“ ì¹´ë“œ ì¤‘ 'í˜ì´ìŠ¤ ì¹´ë“œ'(J, Q, K)ê°€ ëª‡ ì¥ ìˆëŠ”ì§€ ëª¨ë‘ì—ê²Œ ë°í™ë‹ˆë‹¤."],
				["ì‘ì „ ê¸°íšì", "ê°€ì¹˜ í•˜ë‚˜ë¥¼ ì •í•©ë‹ˆë‹¤(2ë¶€í„° Aê¹Œì§€). ì—¬ëŸ¬ë¶„ ì¤‘ 1ëª…ì€ ìì‹ ì´ ê·¸ ê°€ì¹˜ì¸ ì¹´ë“œë¥¼ ëª‡ ì¥ ê°–ê³  ìˆëŠ”ì§€ ëª¨ë‘ì—ê²Œ ë°í™ë‹ˆë‹¤."],
				["í•´ì»¤", "ì—¬ëŸ¬ë¶„ ì¤‘ 1ëª…ì€ ì¹´ë“œ ë”ë¯¸ì—ì„œ ì¶”ê°€ í¬ì¼“ ì¹´ë“œ 1ì¥ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ, ìê¸° í¬ì¼“ ì¹´ë“œ ì¤‘ 1ì¥ì„ ê³¨ë¼ ì¹´ë“œ ë”ë¯¸ ì˜†ì— ë’·ë©´ìœ¼ë¡œ ë²„ë¦½ë‹ˆë‹¤."],
				["ì½”ë””ë„¤ì´í„°", "í¬ì¼“ ì¹´ë“œë¥¼ ë‚˜ëˆ  ë°›ì€ í›„ ì¦‰ì‹œ: ê°ì ìê¸° í¬ì¼“ ì¹´ë“œ ì¤‘ 1ì¥ì„ ì„ íƒí•œ ë‹¤ìŒ, ì´ë¥¼ ëª¨ë‘ ë™ì‹œì— ìì‹ ì˜ ì™¼ìª½ ì‚¬ëŒì—ê²Œ ë„˜ê¹ë‹ˆë‹¤."],
				["ì­", "ì—¬ëŸ¬ë¶„ ì¤‘ 1ëª…ì€ ì´ ì¹´ë“œë¥¼ ìê¸° í¬ì¼“ ì¹´ë“œë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ, ìê¸° í¬ì¼“ ì¹´ë“œ ì¤‘ 1ì¥ì„ ì¹´ë“œ ë”ë¯¸ ì˜†ì— ë’·ë©´ìœ¼ë¡œ ë²„ë¦½ë‹ˆë‹¤. ì­ì€ ë¬´ëŠ¬ê°€ ì—†ëŠ” Jë¡œ ì·¨ê¸‰í•©ë‹ˆë‹¤."],
				["ìˆ˜í•™ìŸì´", "í¬ì¼“ ì¹´ë“œë¥¼ ë‚˜ëˆ  ë°›ì€ í›„ ì¦‰ì‹œ: ê°ì ìê¸° í¬ì¼“ ì¹´ë“œë“¤ì˜ ìˆ«ìë¥¼ ë”í•œ ê°’ì„ ê³µê°œí•©ë‹ˆë‹¤. J, Q, KëŠ” 10, AëŠ” 11ë¡œ ê³„ì‚°í•©ë‹ˆë‹¤."],
				["ì‚¬ê¸°ê¾¼", "í¬ì¼“ ì¹´ë“œë¥¼ ë‚˜ëˆ  ë°›ì€ í›„ ì¦‰ì‹œ: ê°ì ìê¸° ì¹´ë“œë¥¼ í™•ì¸í•œ ë’¤, ëª¨ë“  ì‚¬ëŒì˜ í¬ì¼“ ì¹´ë“œë¥¼ ëª¨ì•„ì„œ ë’·ë©´ìœ¼ë¡œ ì„ì€ ë‹¤ìŒ ë‹¤ì‹œ ê°ì ë‚˜ëˆ  ë°›ìŠµë‹ˆë‹¤."],
				["ì–´ê¹¨", "ì‡¼ë‹¤ìš´ ë•Œ, ì´ ì¹´ë“œë¥¼ ê°€ì§„ ì‚¬ëŒì€ ê°™ì€ ì¡°í•©ì´ë¼ë©´ í•­ìƒ ë” ê°•í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤."]
			]
		};

		const state = { penalty: [], advantage: [], score: 0, safe: 0, alarm: 0 };
		const modalInstance = new bootstrap.Modal(document.getElementById("descModal"));

		function closeModalSafely() {
			if (modalInstance._isShown) {
				modalInstance.hide();
			}
		}

		function showDescriptions(type) {
			let text = `--- ${type === 'penalty' ? 'íŒ¨ë„í‹° ì¹´ë“œ' : 'ì–´ë“œë°´í‹°ì§€ ì¹´ë“œ'} ---\n`;
			cards[type].forEach((c, i) => text += `${i + 1}. ${c[0]}\n${c[1]}\n\n`);
			document.getElementById("descContent").textContent = text;
			modalInstance.show();
		}

		function showAllDescriptions() {
			let text = "--- íŒ¨ë„í‹° ì¹´ë“œ ---\n";
			cards.penalty.forEach((c, i) => text += `${i + 1}. ${c[0]}\n${c[1]}\n\n`);
			text += "--- ì–´ë“œë°´í‹°ì§€ ì¹´ë“œ ---\n";
			cards.advantage.forEach((c, i) => text += `${i + 1}. ${c[0]}\n${c[1]}\n\n`);
			document.getElementById("descContent").textContent = text;
			modalInstance.show();
		}

		function toggleScoreMode() {
			document.getElementById("counterMode").style.display = scoreMode.value === "counter" ? "block" : "none";
			document.getElementById("pointsMode").style.display = scoreMode.value === "points" ? "block" : "none";
		}

		function populateSelects() {
			["penalty", "advantage"].forEach(type => {
				const select = document.getElementById(`${type}Select`);
				cards[type].forEach((c, i) => {
					const opt = document.createElement("option");
					opt.value = i;
					opt.textContent = `${i + 1}. ${c[0]}`;
					select.appendChild(opt);
				});
			});
		}

		function renderCards() {
			["penalty", "advantage"].forEach(type => {
				const container = document.getElementById(`${type}Cards`);
				container.innerHTML = "";
				state[type].forEach(i => {
					const div = document.createElement("div");
					div.className = "card-box";
					div.innerHTML = `<span class="remove" onclick="removeCard('${type}', ${i})">âœ–</span><strong>${i + 1}. ${cards[type][i][0]}</strong>`;
					div.onclick = () => showCard(type, i);
					container.appendChild(div);
				});
			});
		}

		function addCard(type, random = false) {
			const index = random ? getRandomCard(type) : parseInt(document.getElementById(`${type}Select`).value);
			if (!state[type].includes(index)) {
				state[type].push(index);
				renderCards();
			}
		}

		function removeCard(type, index) {
			state[type] = state[type].filter(i => i !== index);
			renderCards();
		}

		function getRandomCard(type) {
			const candidates = cards[type].map((_, i) => i).filter(i => !state[type].includes(i));
			return candidates.length ? candidates[Math.floor(Math.random() * candidates.length)] : -1;
		}

		function showCard(type, index) {
			document.getElementById("descContent").textContent = `${index + 1}. ${cards[type][index][0]}\n\n${cards[type][index][1]}`;
			modalInstance.show();
		}

		function resetAll() {
			state.penalty = [];
			state.advantage = [];
			state.score = 0;
			state.safe = 0;
			state.alarm = 0;
			document.getElementById("score").textContent = 0;
			document.getElementById("safeCount").textContent = 0;
			document.getElementById("alarmCount").textContent = 0;
			renderCards();
		}

		function changeScore(val) {
			state.score += val;
			document.getElementById("score").textContent = state.score;
		}

		function addCount(which) {
			if (which === "safe" && state.safe < 3) state.safe++;
			if (which === "alarm" && state.alarm < 3) state.alarm++;
			document.getElementById("safeCount").textContent = state.safe;
			document.getElementById("alarmCount").textContent = state.alarm;
		}

		populateSelects();
		renderCards();
	</script>
</body>
</html>
