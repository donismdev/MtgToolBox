<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title data-i18n="title">Sudoku / Killer Sudoku</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/assets/style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sudoku-line': '#6aa0d8',
                        'sudoku-bold': '#2f66a5',
                        'sudoku-panel': '#e9f1fb',
                        'sudoku-btn': '#dbe9fb',
                        'sudoku-text': '#1d3557',
                        'sudoku-danger': '#e63946',
                        'sudoku-cage': '#638dbb',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --cell: clamp(34px, 10.2vw, 48px);
        }
        .board {
            display: grid;
            grid-template-columns: repeat(9, var(--cell));
            grid-template-rows: repeat(9, var(--cell));
            width: calc(var(--cell) * 9);
            height: calc(var(--cell) * 9);
        }
        .cell {
            width: var(--cell);
            height: var(--cell);
        }
        .num {
            font-size: calc(var(--cell) * 0.46);
        }
        .notes {
            font-size: calc(var(--cell) * 0.19);
        }
        .cage-sum {
            font-size: calc(var(--cell) * 0.19);
        }
    </style>
</head>
<body data-tool="game-sudoku" class="bg-gray-100 text-sudoku-text">
    <div class="app flex flex-col md:flex-row items-center md:items-start gap-4 max-w-6xl mx-auto p-3">
        <div class="board-wrap p-2 bg-white rounded-lg shadow-md w-full max-w-[calc(var(--cell)*9+16px)]">
            <div id="board" class="board border-2 border-sudoku-bold relative mx-auto" aria-label="Sudoku board" role="grid">
                <!-- Cells are generated by JS -->
            </div>
        </div>

        <div class="panel w-full max-w-[calc(var(--cell)*9+16px)] md:max-w-sm bg-sudoku-panel rounded-xl p-3 shadow-lg md:sticky md:top-3">
            <div class="grid grid-cols-4 gap-2">
                <button id="modeNote1" class="mode-btn py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Note 1 (q)" data-i18n="note1">Note 1</button>
                <button id="modeNote2" class="mode-btn py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Note 2 (w)" data-i18n="note2">Note 2</button>
                <button id="modeDigit" class="mode-btn py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Digit (e)">✏️</button>
                <button id="btnDelete" class="mode-btn py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Delete (r)" data-i18n="delete">Delete</button>
            </div>

            <div id="numpad" class="grid grid-cols-3 gap-2 mt-2">
                <!-- Numpad is generated by JS -->
            </div>

            <div class="grid grid-cols-3 gap-2 mt-2">
                <button id="undo" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Undo" data-i18n="undo">Undo</button>
                <button id="redo" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Redo" data-i18n="redo">Redo</button>
                <button id="btnHint" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Reveal a hint" data-i18n="hint">Hint (0)</button>
            </div>

            <div class="grid grid-cols-2 gap-2 mt-2">
                <button id="resetPuzzle" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Reset current puzzle" data-i18n="reset">Reset</button>
                <button id="newGame" class="primary py-2 px-3 bg-blue-200 font-bold rounded-lg shadow-inner-sm" title="New puzzle" data-i18n="newGame">New Game</button>
            </div>

            <div class="grid grid-cols-2 gap-2 mt-2">
                <select id="mode" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm border-none">
                    <option value="sudoku" data-i18n="modeSudoku">Sudoku</option>
                    <option value="killer" data-i18n="modeKiller">Killer Sudoku</option>
                </select>
                <select id="difficulty" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm border-none">
                    <option value="easy" data-i18n="diffEasy">Easy</option>
                    <option value="medium" data-i18n="diffMedium">Medium</option>
                    <option value="hard" data-i18n="diffHard">Hard</option>
                    <option value="expert" data-i18n="diffExpert">Expert</option>
                </select>
            </div>

            <div class="grid grid-cols-2 gap-2 mt-2">
                <button id="exportCages" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Export killer cages to text" data-i18n="exportCages">Export Cages</button>
                <button id="copyCages" class="py-2 px-3 bg-sudoku-btn rounded-lg shadow-inner-sm" title="Copy text" data-i18n="copy">Copy</button>
            </div>
            <textarea id="cageText" class="outbox w-full min-h-[120px] mt-2 p-2 bg-white border border-blue-200 rounded-lg font-mono text-xs" readonly placeholder="Cage info will be printed here."></textarea>

            <div class="mt-2"><span id="timerBadge" class="badge py-1 px-2 bg-white rounded-md text-sm" aria-live="polite">⏱ 00:00</span></div>
            <div class="mt-2"><span class="badge py-1 px-2 bg-white rounded-md text-sm" data-i18n="shortcuts">Shortcuts: Note1(q) / Note2(w) / Digit(e) / Delete(r)</span></div>
        </div>
    </div>

    <script src="/assets/main.js" defer></script>
    <script src="js/main.js" type="module"></script>
</body>
</html>